[gd_scene load_steps=3 format=2]

[ext_resource path="res://Assets/Placeholders/acidbomb.png" type="Texture" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Control

func render_values(icon, title, desc, amount, percentxp):
	$Icon.texture = icon
	$Title.text = title
	$Description.text = desc
	$Number.text = str(amount)
	$ProgressBar.value = percentxp
	
func render_item(item, totalxp):
	var icon = item.icon
	var title = item.title
	var description = item.description
	var amount = item.xp_curve(totalxp)[\"level\"]
	var remain = item.xp_curve(totalxp)[\"remain\"]
	var tonext = item.xp_curve(totalxp)[\"to_next\"]
	render_values(icon, title, description, amount, 100.0 * remain / tonext)
	
func render_id(id:String):
	var item = KarmaItem.load_by_id(id)
	if $\"/root/CharacterData\".karma.has(id):
		render_item(item, $\"/root/CharacterData\".karma[id])
	else:
		render_item(item, 0)
		
func _ready():
	render_id(\"Luck\")"

[node name="KarmaItem" type="Control"]
anchor_right = 1.0
margin_right = -1000.0
margin_bottom = 142.0
rect_min_size = Vector2( 650, 142 )
script = SubResource( 1 )

[node name="Icon" type="TextureRect" parent="."]
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = 19.0
margin_top = -45.0
margin_right = 113.0
margin_bottom = 49.0
texture = ExtResource( 1 )
expand = true

[node name="ProgressBar" type="ProgressBar" parent="."]
margin_left = 208.0
margin_top = 85.0
margin_right = 624.0
margin_bottom = 107.0
size_flags_horizontal = 3
size_flags_vertical = 2
value = 72.19

[node name="Title" type="Label" parent="."]
anchor_right = 1.0
margin_left = 207.0
margin_top = 26.0
margin_right = -45.0
margin_bottom = 61.0
text = "Short title of the item"
valign = 1

[node name="Description" type="Label" parent="."]
anchor_right = 1.0
margin_left = 207.0
margin_top = 49.0
margin_right = -49.0
margin_bottom = 84.0
text = "Short description of the item"
valign = 1

[node name="Number" type="Label" parent="."]
margin_left = 118.396
margin_top = 35.0
margin_right = 195.396
margin_bottom = 107.0
size_flags_horizontal = 3
size_flags_vertical = 6
text = "88"
align = 1
valign = 1
