[gd_scene load_steps=3 format=2]

[ext_resource path="res://Assets/Placeholders/circlet.png" type="Texture" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Control

signal selected
signal unequip
signal equip

var id = \"\"
var slot = \"\"

func init(slot:String):
	$\"Panel/HBoxContainer/SlotName\".text = slot
	self.slot = slot
	unequip()

func equip(id:String, name:String, icon):
	self.id = id
	$\"Panel/HBoxContainer/ItemName\".text = name
	$\"Panel/HBoxContainer/Icon\".texture = icon
	
func unequip():
	self.id = \"\"
	$\"Panel/HBoxContainer/ItemName\".text = \"[empty]\"
	$\"Panel/HBoxContainer/Icon\".texture = null
	

func _on_Panel_pressed():
	emit_signal(\"selected\", self.id)


func _on_EquipUnequip_pressed():
	if id == \"\":
		emit_signal(\"equip\", slot)
	else:
		emit_signal(\"unequip\", slot)
"

[node name="EquipmentSlot" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_bottom = -840.0
rect_min_size = Vector2( 0, 60 )
script = SubResource( 1 )

[node name="Panel" type="Button" parent="."]
anchor_right = 1.0
margin_bottom = 60.0
rect_min_size = Vector2( 0, 60 )
size_flags_horizontal = 3

[node name="HBoxContainer" type="HBoxContainer" parent="Panel"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_constants/separation = 15

[node name="SlotName" type="Label" parent="Panel/HBoxContainer"]
margin_top = 23.0
margin_right = 33.0
margin_bottom = 37.0
text = "Head"

[node name="Icon" type="TextureRect" parent="Panel/HBoxContainer"]
margin_left = 48.0
margin_right = 108.0
margin_bottom = 60.0
texture = ExtResource( 1 )
stretch_mode = 5

[node name="ItemName" type="Label" parent="Panel/HBoxContainer"]
margin_left = 123.0
margin_top = 23.0
margin_right = 212.0
margin_bottom = 37.0
text = "Equipped tem"

[node name="Button" type="Button" parent="Panel/HBoxContainer"]
margin_left = 227.0
margin_right = 333.0
margin_bottom = 60.0
text = "Equip\\Unequip"
[connection signal="pressed" from="Panel" to="." method="_on_Panel_pressed"]
[connection signal="pressed" from="Panel/HBoxContainer/Button" to="." method="_on_EquipUnequip_pressed"]
