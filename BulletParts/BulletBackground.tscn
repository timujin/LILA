[gd_scene load_steps=6 format=2]

[ext_resource path="res://BulletParts/Assets/LeftClickBackground.png" type="Texture" id=1]
[ext_resource path="res://BulletParts/Assets/RightClickBackground.png" type="Texture" id=2]
[ext_resource path="res://BulletParts/Assets/Circle.png" type="Texture" id=3]
[ext_resource path="res://BulletParts/Assets/Square.png" type="Texture" id=4]

[sub_resource type="GDScript" id=1]
script/source = "tool
extends Node2D

class_name BulletBackground

export(Color, RGBA) var color setget set_color

enum Shapes {LeftClick, RightClick, Circle, Square}
export (Shapes) var shape setget set_shape

func set_shape(new_value):
	shape = new_value
	if Engine.editor_hint:
		update_shape()

func update_shape():
	$LeftClick.visible = false
	$RightClick.visible = false
	$Circle.visible = false
	$Square.visible = false
	
	match shape:
		Shapes.LeftClick:
			$LeftClick.visible = true
		Shapes.RightClick:
			$RightClick.visible = true
		Shapes.Circle:
			$Circle.visible = true
		Shapes.Square:
			$Square.visible = true
	
func set_color(new_value):
	color = new_value
	if Engine.editor_hint:
		update_color()
		
func update_color():
	$RightClick.modulate = color
	$LeftClick.modulate = color
	$Circle.modulate = color
	$Square.modulate = color

# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"

# Called when the node enters the scene tree for the first time.
func _ready():
	update_shape()
	update_color()

# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[node name="BulletBackground" type="Node2D"]
script = SubResource( 1 )
color = Color( 0.235294, 0.564706, 0.435294, 1 )
shape = 2

[node name="LeftClick" type="Sprite" parent="."]
visible = false
modulate = Color( 0.235294, 0.564706, 0.435294, 1 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 1 )

[node name="RightClick" type="Sprite" parent="."]
visible = false
modulate = Color( 0.235294, 0.564706, 0.435294, 1 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 2 )

[node name="Circle" type="Sprite" parent="."]
modulate = Color( 0.235294, 0.564706, 0.435294, 1 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 3 )

[node name="Square" type="Sprite" parent="."]
visible = false
modulate = Color( 0.235294, 0.564706, 0.435294, 1 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 4 )
