[gd_scene load_steps=3 format=2]

[ext_resource path="res://Systems/GlobalRegister/Register.tres" type="Resource" id=1]

[sub_resource type="GDScript" id=1]
script/source = "\"\"\"
Keeps references to in-game content, mapping ID to scene file.
This is so we can refer to content using readable IDs rather than scene paths.
Set \"reload\" to true in Reload.tscn from editor to automatically scan folders
and collect all the IDs.
\"\"\"
extends Node

export(Resource) var register


func room(id:String):
	if register.rooms.has(id):
		return load(register.rooms[id])
	else:
		return room(\"FFFFFDogroom\")

\"\"\"

func item(id:String):
	if register.items.has(id):
		return load(register.items[id])
	else:
		return item(\"MissingNo\")
		

func karmaitem(id:String):
	if register.karmaitems.has(id):
		return load(register.karmaitems[id])
	else:
		return karmaitem(\"MissingNo\")

func combatcard(id:String):
	if register.combatcards.has(id):
		return load(register.combatcards[id])
	else:
		return karmaitem(\"MissingNo\")
	
	
\"\"\"
\"\"\"

func item(id:String):
	if $Items.items.has(id):
		return load($Items.items[id])
	else:
		return item(\"MissingNo\")
		

func karmaitem(id:String):
	if $KarmaItems.karmaitems.has(id):
		return load($KarmaItems.karmaitems[id])
	else:
		return karmaitem(\"MissingNo\")
	
func room(id:String):
	if $Rooms.rooms.has(id):
		return load($Rooms.rooms[id])
	else:
		return room(\"FFFFFDogroom\")

\"\"\"
"

[node name="GlobalRegister" type="Node"]
script = SubResource( 1 )
register = ExtResource( 1 )
