[gd_scene load_steps=5 format=2]

[ext_resource path="res://Assets/Placeholders/adeptmastersorc.png" type="Texture" id=1]
[ext_resource path="res://Assets/Placeholders/acidbomb.png" type="Texture" id=2]
[ext_resource path="res://Assets/Themes/HUD.tres" type="Theme" id=3]

[sub_resource type="GDScript" id=1]
script/source = "extends Button

var category = \"\"
var item_object

func render_item(item):
	item_object = item
	
	category = item.category
	$Label/Count.text = str(item.count)
	$Label/Count.visible = item.countable
	$CanvasLayer/Offset/Popup/Count.text = str(item.count)
	$CanvasLayer/Offset/Popup/Count.visible = item.countable
	
	self.icon = item.icon
	$CanvasLayer/Offset/Popup/Icon.texture = item.icon
	
	$CanvasLayer/Offset/Popup/Name.text = item.display_name
	$CanvasLayer/Offset/Popup/Description.text = item.description

func _ready():
	pass
	#var item = Character.inventory.add_item_by_id(\"MissingNo\",true)
	#render_item(item)


func _on_Item_mouse_entered():
	$CanvasLayer/Offset/Popup.visible = true
	$CanvasLayer/Offset.rect_position = self.rect_global_position


func _on_Item_mouse_exited():
	$CanvasLayer/Offset/Popup.visible = false
"

[node name="Item" type="Button"]
margin_right = 100.0
margin_bottom = 100.0
rect_min_size = Vector2( 100, 100 )
icon = ExtResource( 1 )
expand_icon = true
script = SubResource( 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Panel" parent="."]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -46.1912
margin_top = -24.1912
margin_right = -4.1912
margin_bottom = -4.1912
mouse_filter = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Count" type="Label" parent="Label"]
anchor_right = 1.0
anchor_bottom = 1.0
text = "100"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 4

[node name="Offset" type="Control" parent="CanvasLayer"]
margin_right = 40.0
margin_bottom = 40.0
mouse_filter = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Popup" type="Panel" parent="CanvasLayer/Offset"]
visible = false
margin_left = -129.886
margin_top = 120.7
margin_right = 245.114
margin_bottom = 320.7
mouse_filter = 1
theme = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Icon" type="TextureRect" parent="CanvasLayer/Offset/Popup"]
margin_left = 12.0
margin_top = 12.0
margin_right = 84.0
margin_bottom = 84.0
texture = ExtResource( 2 )
expand = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Name" type="Label" parent="CanvasLayer/Offset/Popup"]
anchor_left = 0.5
anchor_right = 0.5
margin_left = -88.5
margin_top = 12.0
margin_right = 164.5
margin_bottom = 38.0
text = "Item name"
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Description" type="Label" parent="CanvasLayer/Offset/Popup"]
anchor_right = 1.0
margin_left = 106.0
margin_top = 43.0
margin_right = -21.0
margin_bottom = 186.0
text = "Item extended description"
autowrap = true
clip_text = true

[node name="Count" type="Label" parent="CanvasLayer/Offset/Popup"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -46.0
margin_top = 12.0
margin_right = -14.0
margin_bottom = 38.0
text = "100"
[connection signal="mouse_entered" from="." to="." method="_on_Item_mouse_entered"]
[connection signal="mouse_exited" from="." to="." method="_on_Item_mouse_exited"]
