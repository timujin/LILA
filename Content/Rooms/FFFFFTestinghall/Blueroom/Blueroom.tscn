[gd_scene load_steps=13 format=2]

[ext_resource path="res://Systems/Rooms/BaseRoom.tscn" type="PackedScene" id=1]
[ext_resource path="res://Content/Rooms/FFFFFTestinghall/Blueroom/Blueroom.png" type="Texture" id=2]
[ext_resource path="res://Systems/Interactables/BaseInteractable.tscn" type="PackedScene" id=3]
[ext_resource path="res://Content/Rooms/FFFFFTestinghall/Blueroom/Lamp.png" type="Texture" id=4]
[ext_resource path="res://Content/Rooms/FFFFFTestinghall/Blueroom/Halo.png" type="Texture" id=5]
[ext_resource path="res://Systems/Rooms/BasePickler.gd" type="Script" id=6]
[ext_resource path="res://Assets/Sprites/Enemies/Suit.png" type="Texture" id=7]

[sub_resource type="GDScript" id=1]
script/source = "extends Node

func activate():
	RoomSwitcher.switch_to(\"FFFFFRedroom\")"

[sub_resource type="GDScript" id=2]
script/source = "extends Node

func activate():
	RoomSwitcher.switch_to(\"FFFFFGreenroom\")"

[sub_resource type="GDScript" id=3]
script/source = "extends Node

func activate():
	$\"../Halo\".switch()"

[sub_resource type="GDScript" id=4]
script/source = "extends Sprite


func _on_OnOff_unpickled(data):
	visible = data[\"is_on\"]

func switch():
	visible = not visible
	$\"../OnOff\".update(\"is_on\", visible)"

[sub_resource type="GDScript" id=5]
script/source = "extends Node

func activate():
	ModeController.set_mode(ModeController.COMBAT)
	add_child(preload(\"res://Systems/Combat/BaseCombat.tscn\").instance())"

[node name="Room" instance=ExtResource( 1 )]
roomID = "FFFFFBlueroom"

[node name="Lamp" type="Sprite" parent="Background" index="0"]
position = Vector2( 897.96, 435.697 )
scale = Vector2( 2.11991, 1.80825 )
texture = ExtResource( 2 )

[node name="CameraLimitLeft" parent="Geometry" index="0"]
position = Vector2( -141.468, 456.359 )

[node name="CameraLimitTop" parent="Geometry" index="1"]
position = Vector2( 938.961, -25.7302 )

[node name="CameraLimitBottom" parent="Geometry" index="2"]
position = Vector2( 939.081, 895.861 )

[node name="CameraLimitRight" parent="Geometry" index="3"]
position = Vector2( 4066.73, 485.039 )

[node name="FirstPersonCamera" parent="." index="2"]
position = Vector2( 781.321, 449.127 )

[node name="Redroom" parent="." index="3" instance=ExtResource( 3 )]
position = Vector2( 247.729, 405.675 )
scale = Vector2( 2.11991, 1.80825 )

[node name="BlurbPoint" parent="Redroom" index="0"]
position = Vector2( 297.802, -34.101 )

[node name="ClickArea" parent="Redroom" index="1"]
margin_left = -87.0
margin_top = -179.0
margin_right = 135.0
margin_bottom = 76.0

[node name="Activator" parent="Redroom" index="2"]
script = SubResource( 1 )

[node name="BaseInteractable" parent="Redroom" index="3" instance=ExtResource( 3 )]
position = Vector2( 264.795, 124.572 )

[node name="Greenroom" parent="." index="4" instance=ExtResource( 3 )]
position = Vector2( 247.729, 405.675 )
scale = Vector2( 2.11991, 1.80825 )

[node name="BlurbPoint" parent="Greenroom" index="0"]
position = Vector2( 297.802, -34.101 )

[node name="ClickArea" parent="Greenroom" index="1"]
margin_left = 466.0
margin_top = -203.0
margin_right = 747.0
margin_bottom = 71.0

[node name="Activator" parent="Greenroom" index="2"]
script = SubResource( 2 )

[node name="Lamp" parent="." index="5" instance=ExtResource( 3 )]
position = Vector2( 720.573, 538.118 )

[node name="BlurbPoint" parent="Lamp" index="0"]
position = Vector2( 176.995, -410.112 )

[node name="ClickArea" parent="Lamp" index="1"]
margin_left = 58.0
margin_top = -319.0
margin_right = 200.0
margin_bottom = -39.0

[node name="Activator" parent="Lamp" index="2"]
script = SubResource( 3 )

[node name="Lamp" type="Sprite" parent="Lamp" index="3"]
position = Vector2( 127.35, -200.739 )
texture = ExtResource( 4 )

[node name="Halo" type="Sprite" parent="Lamp" index="4"]
position = Vector2( 135.864, -272.576 )
scale = Vector2( 0.883643, 0.582174 )
texture = ExtResource( 5 )
script = SubResource( 4 )

[node name="OnOff" type="Node" parent="Lamp" index="5"]
script = ExtResource( 6 )
data = {
"is_on": false
}

[node name="Suit" parent="." index="6" instance=ExtResource( 3 )]
position = Vector2( 1036.86, 456.524 )

[node name="ClickArea" parent="Suit" index="1"]
margin_left = -69.0
margin_top = -332.0
margin_right = 169.0
margin_bottom = -2.0

[node name="Activator" parent="Suit" index="2"]
script = SubResource( 5 )

[node name="Sprite" type="Sprite" parent="Suit" index="3"]
position = Vector2( 53.6682, -162.855 )
scale = Vector2( 0.636484, 0.613898 )
texture = ExtResource( 7 )
[connection signal="unpickled" from="Lamp/OnOff" to="Lamp/Halo" method="_on_OnOff_unpickled"]

[editable path="Redroom"]

[editable path="Greenroom"]

[editable path="Lamp"]

[editable path="Suit"]
